<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floresta da Calma</title>
    <style>
        /* Importando uma nova fonte mais profissional */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

        body {
            background-image: url('imagens/A_serene_magical_forest_with_vibrant_trees_glowing.png');
            background-size: cover;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            color: white;
            font-family: 'Poppins', sans-serif; /* Nova fonte */
        }

        h1 {
            font-size: 2.5em; /* Tamanho do título */
            margin-bottom: 10px;
        }

        #characterContainer {
            display: flex;
            justify-content: space-around;
            width: 80%;
            margin: 20px 0;
        }

        .character {
            cursor: pointer;
            text-align: center;
            transition: transform 0.3s, filter 0.3s; /* Transição suave para o efeito de brilho e aumento */
        }

        .character:hover {
            transform: scale(1.1); /* Aumenta o tamanho ao passar o mouse */
            filter: brightness(1.5); /* Aumenta o brilho ao passar o mouse */
        }

        .character.active {
            filter: brightness(1.5); /* Aumenta o brilho quando clicado */
        }

        #messages {
            margin-top: 20px;
            font-size: 24px; /* Tamanho das mensagens */
            color: #556B2F; /* Verde musgo para combinar com a página */
            animation: fade-in 2s;
            transition: opacity 0.5s ease-in-out; /* Suavizando a troca das frases */
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8); /* Brilho nas legendas */
        }

        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        #calmiCircle {
            display: none;
            margin-top: 20px;
        }

        #tempestadeCloud {
            display: none; /* Começa oculto */
            position: relative;
            margin-top: 20px;
            width: 200px; /* Largura da nuvem */
            height: 100px; /* Altura da nuvem */
            background-color: white; /* Fundo branco */
            opacity: 1; /* Nuvem começa visível */
            transition: opacity 1s; /* Efeito suave de desaparecimento */
            border-radius: 50%; /* Círculo */
        }

        #luziaButton, #stopButton {
            display: none;
            margin-top: 10px;
            padding: 10px 20px; /* Padding para melhor aparência */
            border: none;
            border-radius: 5px;
            font-size: 18px; /* Tamanho da fonte */
            cursor: pointer;
            background-color: #2F4F4F; /* Verde escuro para os botões */
            color: white;
            transition: background-color 0.3s;
        }

        #luziaButton:hover, #stopButton:hover {
            background-color: #556B2F; /* Cor dos botões ao passar o mouse */
        }
    </style>
</head>
<body>
    <h1>Bem-vindo à Floresta da Calma</h1>
    <p>Esse espaço é para todos que procuram um momento de tranquilidade, alívio e equilíbrio emocional. Respire fundo e siga adiante.</p>

    <div id="characterContainer">
        <div class="character" onclick="showCharacter('calmi')">
            <img src="imagens/calmi.png" alt="Calmi" width="150">
            <p>Calmi</p>
        </div>
        <div class="character" onclick="showCharacter('luzia')">
            <img src="imagens/luzia.png" alt="Luzia" width="150">
            <p>Luzia</p>
        </div>
        <div class="character" onclick="showCharacter('tempestade')">
            <img src="imagens/tempestade.png" alt="Tempestade" width="150">
            <p>Tempestade</p>
        </div>
    </div>

    <div id="calmiCircle">
        <canvas id="circleCanvas" width="200" height="200"></canvas>
    </div>

    <div id="tempestadeCloud">
        <!-- Agora temos um círculo que aparece em vez de uma nuvem -->
        <div id="cloud" style="width: 100%; height: 100%; background: white; border-radius: 50%;"></div>
    </div>

    <div id="messages"></div>

    <div id="luziaButton">
        <button onclick="changeLuziaMessage()">Mudar Mensagem de Luzia</button>
    </div>

    <div id="stopButton">
        <button onclick="stopMusic()">Parar Música</button>
    </div>

    <script>
        const calmiMessages = [
            "Respire profundamente... inale... exale...",
            "Você está seguro e em paz.",
            "Sinta a calma invadindo seu corpo.",
            "A cada respiração, relaxe mais.",
            "Este momento é seu, respire devagar.",
            "Você está no controle de suas emoções.",
            "Acalme sua mente, foque na respiração.",
            "Respire, você está no presente.",
            "Cada respiração alivia a tensão.",
            "Sua mente pode encontrar paz.",
            "Devagar... respire e solte.",
            "Sinta o ar entrando... e saindo...",
            "Você é capaz de encontrar a calma.",
            "Sua respiração traz serenidade.",
            "Você está protegido aqui.",
            "Nada mais importa agora, apenas respire.",
            "Solte os pensamentos que te incomodam.",
            "Respire... e deixe o corpo relaxar.",
            "Sua respiração é o caminho para a paz.",
            "A cada inspiração, você encontra calma."
        ];

        const luziaMessages = [
            "Você é incrível do jeito que é!",
            "Acredite em si mesma!",
            "Sua autoestima é sua força!",
            "Você merece amor e respeito!",
            "Você é suficiente, exatamente como é.",
            "A sua luz interior brilha intensamente.",
            "Você é capaz de conquistar qualquer coisa.",
            "Confie no seu valor.",
            "Você faz a diferença no mundo.",
            "Seu coração é cheio de bondade.",
            "Você é uma pessoa única e especial.",
            "Seus esforços são dignos de reconhecimento.",
            "Você tem talentos incríveis!",
            "Você merece todo o amor e sucesso.",
            "Você é corajoso e capaz.",
            "O seu valor é inegável.",
            "Você é uma pessoa maravilhosa.",
            "Você tem um propósito valioso.",
            "Você é amada por quem você é.",
            "A sua presença é importante."
        ];

        const tempestadeMessages = [
            "É normal sentir raiva... vamos respirar juntos.",
            "A nuvem vai embora... sinta a calma chegando.",
            "Você pode controlar sua raiva.",
            "Liberte-se do que te incomoda.",
            "Respire... a raiva diminui.",
            "Você é mais forte que a raiva.",
            "Deixe a tensão ir embora... aos poucos.",
            "Seu coração pode encontrar calma.",
            "A raiva é passageira, você é permanente.",
            "Solte o que te prende.",
            "Você tem o controle, respire devagar.",
            "Deixe a raiva se dissipar como uma nuvem.",
            "Você está seguro, a raiva vai embora.",
            "Você consegue transformar raiva em tranquilidade.",
            "Vamos respirar até a nuvem passar.",
            "A raiva não define você.",
            "Respire e sinta a calma tomando conta.",
            "Você é capaz de se acalmar.",
            "A raiva se dissipa como o vento.",
            "Você está no controle, sempre."
        ];

        let currentAudio = null;

        function playMusic(musicPath) {
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
            }
            currentAudio = new Audio(musicPath);
            currentAudio.play();
            document.getElementById('stopButton').style.display = 'block'; // Exibe o botão para parar a música
        }

        function stopMusic() {
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
            }
            document.getElementById('stopButton').style.display = 'none'; // Esconde o botão após parar a música
        }

        function showCharacter(character) {
            stopMusic(); // Para a música ao trocar de personagem
            document.getElementById('messages').innerHTML = '';
            document.getElementById('calmiCircle').style.display = 'none';
            document.getElementById('tempestadeCloud').style.display = 'none';
            document.getElementById('luziaButton').style.display = 'none';

            // Remove brilho de todos os personagens
            const characters = document.querySelectorAll('.character');
            characters.forEach((char) => {
                char.classList.remove('active'); // Remove brilho de todos os personagens
            });

            if (character === 'calmi') {
                playMusic('musicas/musica_calmi.mp3');
                showCalmi();
                document.querySelector('.character:nth-child(1)').classList.add('active'); // Adiciona brilho ao personagem Calmi
            } else if (character === 'luzia') {
                playMusic('musicas/musica_luzia.mp3');
                showLuzia();
                document.querySelector('.character:nth-child(2)').classList.add('active'); // Adiciona brilho ao personagem Luzia
            } else if (character === 'tempestade') {
                playMusic('musicas/musica_tempestade.mp3');
                showTempestade();
                document.querySelector('.character:nth-child(3)').classList.add('active'); // Adiciona brilho ao personagem Tempestade
            }
        }

        function showCalmi() {
            document.getElementById('calmiCircle').style.display = 'block';
            animateBreathingCircle();
            displayMessage(calmiMessages);
        }

        function showLuzia() {
            luziaIndex = Math.floor(Math.random() * luziaMessages.length);
            document.getElementById('messages').innerHTML = luziaMessages[luziaIndex];
            document.getElementById('luziaButton').style.display = 'block';
        }

        function showTempestade() {
            document.getElementById('tempestadeCloud').style.display = 'block';
            animateDissipatingCloud();
            displayMessage(tempestadeMessages);
        }

        function displayMessage(messages) {
            let index = 0;
            const interval = setInterval(() => {
                document.getElementById('messages').style.opacity = '0'; // Suaviza a transição
                setTimeout(() => {
                    document.getElementById('messages').innerHTML = messages[index];
                    document.getElementById('messages').style.opacity = '1'; // Faz a mensagem aparecer suavemente
                }, 500); // Atraso para a nova mensagem aparecer
                index++;
                if (index >= messages.length) {
                    index = 0; // Reinicia o índice para looping
                }
            }, 3000);
        }

        function animateBreathingCircle() {
            const canvas = document.getElementById('circleCanvas');
            const ctx = canvas.getContext('2d');
            let radius = 50;
            let growing = true;
            
            const growthRate = 0.1; // Velocidade da respiração tranquila
            const maxRadius = 80; // Raio máximo
            const minRadius = 50; // Raio mínimo

            const breathingAnimation = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.beginPath();
                ctx.arc(canvas.width / 2, canvas.height / 2, radius, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(0, 150, 255, 0.3)'; // Azul claro e transparente
                ctx.fill();
                ctx.closePath();

                if (growing) {
                    radius += growthRate; // Crescendo lentamente
                    if (radius >= maxRadius) growing = false;
                } else {
                    radius -= growthRate; // Diminuindo lentamente
                    if (radius <= minRadius) growing = true;
                }

                requestAnimationFrame(breathingAnimation);
            };
            breathingAnimation();
        }

        function animateDissipatingCloud() {
            const cloud = document.getElementById('tempestadeCloud');
            cloud.style.opacity = '1'; // Reseta a opacidade da nuvem
            let growing = true;
            let size = 1;

            const cloudBreathing = () => {
                cloud.style.transform = `scale(${size})`;
                if (growing) {
                    size += 0.01; // Aumentando a nuvem
                    if (size >= 1.1) growing = false;
                } else {
                    size -= 0.01; // Diminuindo a nuvem
                    if (size <= 1) growing = true;
                }
                requestAnimationFrame(cloudBreathing);
            };

            cloudBreathing();
        }

        function changeLuziaMessage() {
            luziaIndex = (luziaIndex + 1) % luziaMessages.length;
            document.getElementById('messages').innerHTML = luziaMessages[luziaIndex];
        }
    </script>
</body>
</html>
