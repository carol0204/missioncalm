<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floresta da Calma</title>
    <style>
        body {
            background-image: url('imagens/A_serene_magical_forest_with_vibrant_trees_glowing.png');
            background-size: cover;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            color: white;
            font-family: Arial, sans-serif;
        }
        #characterContainer {
            display: flex;
            justify-content: space-around;
            width: 80%;
            margin: 20px 0;
        }
        .character {
            cursor: pointer;
            text-align: center;
        }
        #messages {
            margin-top: 20px;
            font-size: 18px;
            animation: fade-in 2s;
        }
        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        #calmiCircle {
            display: none;
            margin-top: 20px;
        }
        #tempestadeCloud {
            display: none;
            position: relative;
            margin-top: 20px;
        }
        #luziaButton {
            display: none;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Bem-vindo à Floresta da Calma</h1>
    <div id="characterContainer">
        <div class="character" onclick="showCharacter('calmi')">
            <img src="imagens/calmi.png" alt="Calmi" width="100">
            <p>Calmi</p>
        </div>
        <div class="character" onclick="showCharacter('luzia')">
            <img src="imagens/luzia.png" alt="Luzia" width="100">
            <p>Luzia</p>
        </div>
        <div class="character" onclick="showCharacter('tempestade')">
            <img src="imagens/tempestade.png" alt="Tempestade" width="100">
            <p>Tempestade</p>
        </div>
    </div>
    <div id="calmiCircle">
        <canvas id="circleCanvas" width="200" height="200"></canvas>
    </div>
    <div id="tempestadeCloud">
        <img src="imagens/nuvem.png" alt="Nuvem" width="200">
    </div>
    <div id="messages"></div>
    <div id="luziaButton">
        <button onclick="changeLuziaMessage()">Mudar Mensagem de Luzia</button>
    </div>

    <script>
        const calmiMessages = [
            "Respire profundamente... inale... exale...",
            "Você está seguro e em paz.",
            "Sinta a calma invadindo seu corpo.",
            "A cada respiração, relaxe mais.",
            "Sinta seu corpo relaxando aos poucos.",
            "Você pode lidar com isso. Continue respirando.",
            "A calma está dentro de você, acessível a qualquer momento.",
            "Você está no controle de sua respiração.",
            "Inspire calma, expire tensão.",
            "Permita que sua mente se acalme aos poucos.",
            "Você está fazendo um ótimo trabalho ao se acalmar.",
            "Tudo vai ficar bem, respire devagar.",
            "A ansiedade vai diminuir com cada respiração.",
            "Concentre-se no momento presente.",
            "Sua respiração é sua âncora.",
            "Você está seguro aqui e agora.",
            "Seu corpo está relaxando com cada respiração.",
            "Aos poucos, a calma está tomando conta de você.",
            "Respire... a paz está vindo.",
            "Você está fazendo o melhor que pode."
        ];
        const luziaMessages = [
            "Você é incrível do jeito que é!",
            "Acredite em si mesmo!",
            "Sua autoestima é sua força!",
            "Você merece amor e respeito!",
            "Você é mais forte do que imagina.",
            "Valorize suas conquistas, grandes ou pequenas.",
            "Você é suficiente exatamente como é.",
            "Ninguém pode tirar seu valor.",
            "Você é digno de coisas boas.",
            "Confie na sua jornada.",
            "Seu potencial é ilimitado.",
            "Você é uma pessoa especial.",
            "Seus talentos são únicos.",
            "O que você faz tem valor.",
            "Você tem o poder de realizar seus sonhos.",
            "Sua presença ilumina o mundo.",
            "Você é uma inspiração para os outros.",
            "Seu crescimento é contínuo.",
            "Você merece todo o sucesso.",
            "Continue se amando."
        ];
        const tempestadeMessages = [
            "É normal sentir raiva... vamos respirar juntos.",
            "A nuvem vai embora... sinta a calma chegando.",
            "Você pode controlar sua raiva.",
            "Liberte-se do que te incomoda.",
            "Respire fundo, a raiva não precisa controlar suas ações.",
            "Permita-se uma pausa para respirar antes de reagir.",
            "Sua calma é mais forte que sua raiva.",
            "A raiva é temporária, a paz é permanente.",
            "Dê espaço para sua mente se acalmar.",
            "Concentre-se no que você pode controlar.",
            "Deixe o que não te serve mais ir embora.",
            "Sua paz é mais importante do que qualquer discussão.",
            "Sinta a raiva dissipando-se com cada respiração.",
            "Você pode transformar essa energia em algo positivo.",
            "Acalme-se antes de agir.",
            "Sua calma trará soluções melhores.",
            "A raiva não define quem você é.",
            "Respire e veja a nuvem se dissipar.",
            "Dê a si mesmo tempo para acalmar.",
            "A paz que você busca está dentro de você."
        ];

        let calmiIndex = 0;
        let luziaIndex = 0;
        let tempestadeIndex = 0;

        function playMusic(musicPath) {
            const audio = new Audio(musicPath);
            audio.play();
        }

        function showCharacter(character) {
            document.getElementById('messages').innerHTML = '';
            document.getElementById('calmiCircle').style.display = 'none';
            document.getElementById('tempestadeCloud').style.display = 'none';
            document.getElementById('luziaButton').style.display = 'none';

            if (character === 'calmi') {
                playMusic('musicas/musica_calmi.mp3');
                showCalmi();
            } else if (character === 'luzia') {
                playMusic('musicas/musica_luzia.mp3');
                showLuzia();
            } else if (character === 'tempestade') {
                playMusic('musicas/musica_tempestade.mp3');
                showTempestade();
            }
        }

        function showCalmi() {
            document.getElementById('calmiCircle').style.display = 'block';
            animateBreathingCircle();
            displayMessage(calmiMessages);
        }

        function showLuzia() {
            luziaIndex = Math.floor(Math.random() * luziaMessages.length);
            document.getElementById('messages').innerHTML = luziaMessages[luziaIndex];
            document.getElementById('luziaButton').style.display = 'block';
        }

        function showTempestade() {
            document.getElementById('tempestadeCloud').style.display = 'block';
            displayMessage(tempestadeMessages);
            animateDissipatingCloud();
        }

        function displayMessage(messages) {
            let index = 0;
            const interval = setInterval(() => {
                if (index < messages.length) {
                    document.getElementById('messages').innerHTML = messages[index];
                    index++;
                } else {
                    clearInterval(interval);
                }
            }, 3000);
        }

        function animateBreathingCircle() {
            const canvas = document.getElementById('circleCanvas');
            const ctx = canvas.getContext('2d');
            let radius = 50;
            let growing = true;

            const breathingAnimation = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.beginPath();
                ctx.arc(canvas.width / 2, canvas.height / 2, radius, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(0, 150, 255, 0.5)';
                ctx.fill();
                ctx.closePath();

                if (growing) {
                    radius += 2;
                    if (radius >= 80) growing = false;
                } else {
                    radius -= 2;
                    if (radius <= 50) growing = true;
                }

                requestAnimationFrame(breathingAnimation);
            };
            breathingAnimation();
        }

        function animateDissipatingCloud() {
            const cloud = document.getElementById('tempestadeCloud');
            let opacity = 1;

            const dissipateAnimation = () => {
                if (opacity > 0) {
                    opacity -= 0.01;
                    cloud.style.opacity = opacity;
                    requestAnimationFrame(dissipateAnimation);
                }
            };
            dissipateAnimation();
        }

        function changeLuziaMessage() {
            luziaIndex = (luziaIndex + 1) % luziaMessages.length;
            document.getElementById('messages').innerHTML = luziaMessages[luziaIndex];
        }
    </script>
</body>
</html>
